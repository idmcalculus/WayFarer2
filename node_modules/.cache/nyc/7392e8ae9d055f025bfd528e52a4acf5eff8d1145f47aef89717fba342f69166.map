{"version":3,"sources":["models.js"],"names":["models","usersTable","tripsTable","bookingsTable","pool","query","then"],"mappings":";;;;;;;AAAA;;;;AACA,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AACjB,MAAMC,UAAU,sRAAhB;AAQA,MAAMC,UAAU,kVAAhB;AASA,MAAMC,aAAa,8aAAnB;;AAWAC,mBAAKC,KAAL,WAAcJ,UAAd,+BACcC,UADd,+BAEcC,aAFd,GAGCG,IAHD;AAKH,CAlCD;;eAmCeN,M","sourceRoot":"C:\\Users\\idmca\\Desktop\\Andela\\way_farer\\server\\models","sourcesContent":["import pool from './pool';\r\nconst models = () => {\r\n    const usersTable = `CREATE TABLE IF NOT EXISTS users(\r\n        id SERIAL PRIMARY KEY,\r\n        first_name VARCHAR NOT NULL,\r\n        last_name VARCHAR NOT NULL,\r\n        email VARCHAR NOT NULL UNIQUE,\r\n        password VARCHAR NOT NULL,\r\n        is_admin BOOLEAN NOT NULL DEFAULT false\r\n    );`;\r\n    const tripsTable = `CREATE TABLE IF NOT EXISTS trips(\r\n        id SERIAL PRIMARY KEY,\r\n        bus_id INTEGER NOT NULL,\r\n        origin VARCHAR NOT NULL,\r\n        destination VARCHAR NOT NULL,\r\n        trip_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n        fare NUMERIC(15,2) NOT NULL,\r\n        status VARCHAR NOT NULL DEFAULT 'active'\r\n    );`;\r\n    const bookingsTable = `CREATE TABLE IF NOT EXISTS bookings(\r\n        booking_id INTEGER NOT NULL,\r\n        id SERIAL PRIMARY KEY,        \r\n        bus_id INTEGER NOT NULL,\r\n        trip_date timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n        seat_number INTEGER NOT NULL,\r\n        first_name VARCHAR NOT NULL,\r\n        last_name VARCHAR NOT NULL,\r\n        email VARCHAR NOT NULL UNIQUE,\r\n        status VARCHAR NOT NULL DEFAULT 'active'\r\n    );`;\r\n    pool.query(`${usersTable}\r\n                ${tripsTable}\r\n                ${bookingsTable}`)\r\n    .then()\r\n    .catch();\r\n};\r\nexport default models;"]}