"use strict";var cov_1vjiengpa5=function(){var path="C:\\Users\\idmca\\Desktop\\Andela\\way_farer\\server\\controllers\\auth.js";var hash="0e76c7bd9433f16f8916329782e2b366fe426227";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\idmca\\Desktop\\Andela\\way_farer\\server\\controllers\\auth.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:20},end:{line:8,column:67}},"3":{start:{line:10,column:12},end:{line:10,column:61}},"4":{start:{line:12,column:39},end:{line:12,column:95}},"5":{start:{line:14,column:11},end:{line:87,column:1}},"6":{start:{line:16,column:20},end:{line:16,column:28}},"7":{start:{line:17,column:16},end:{line:17,column:31}},"8":{start:{line:18,column:21},end:{line:18,column:41}},"9":{start:{line:19,column:20},end:{line:19,column:39}},"10":{start:{line:20,column:19},end:{line:20,column:37}},"11":{start:{line:22,column:4},end:{line:29,column:7}},"12":{start:{line:23,column:6},end:{line:28,column:7}},"13":{start:{line:24,column:8},end:{line:27,column:11}},"14":{start:{line:31,column:4},end:{line:50,column:7}},"15":{start:{line:32,column:26},end:{line:32,column:40}},"16":{start:{line:33,column:15},end:{line:33,column:31}},"17":{start:{line:34,column:21},end:{line:34,column:43}},"18":{start:{line:36,column:18},end:{line:40,column:21}},"19":{start:{line:42,column:6},end:{line:49,column:9}},"20":{start:{line:53,column:21},end:{line:53,column:29}},"21":{start:{line:54,column:16},end:{line:54,column:32}},"22":{start:{line:55,column:19},end:{line:55,column:38}},"23":{start:{line:57,column:4},end:{line:85,column:7}},"24":{start:{line:58,column:6},end:{line:61,column:9}},"25":{start:{line:58,column:33},end:{line:61,column:9}},"26":{start:{line:62,column:6},end:{line:65,column:9}},"27":{start:{line:62,column:48},end:{line:65,column:9}},"28":{start:{line:66,column:27},end:{line:66,column:41}},"29":{start:{line:67,column:15},end:{line:67,column:32}},"30":{start:{line:68,column:21},end:{line:68,column:44}},"31":{start:{line:69,column:19},end:{line:69,column:39}},"32":{start:{line:71,column:18},end:{line:75,column:21}},"33":{start:{line:77,column:6},end:{line:84,column:9}},"34":{start:{line:88,column:15},end:{line:88,column:19}},"35":{start:{line:89,column:0},end:{line:89,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:97}},line:12},"1":{name:"signup",decl:{start:{line:15,column:19},end:{line:15,column:25}},loc:{start:{line:15,column:36},end:{line:51,column:3}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:83},end:{line:22,column:84}},loc:{start:{line:22,column:101},end:{line:29,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:31,column:260},end:{line:31,column:261}},loc:{start:{line:31,column:278},end:{line:50,column:5}},line:31},"4":{name:"signin",decl:{start:{line:52,column:19},end:{line:52,column:25}},loc:{start:{line:52,column:36},end:{line:86,column:3}},line:52},"5":{name:"(anonymous_5)",decl:{start:{line:57,column:83},end:{line:57,column:84}},loc:{start:{line:57,column:101},end:{line:85,column:5}},line:57}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:94}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:94}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:23,column:6},end:{line:28,column:7}},type:"if",locations:[{start:{line:23,column:6},end:{line:28,column:7}},{start:{line:23,column:6},end:{line:28,column:7}}],line:23},"3":{loc:{start:{line:58,column:6},end:{line:61,column:9}},type:"if",locations:[{start:{line:58,column:6},end:{line:61,column:9}},{start:{line:58,column:6},end:{line:61,column:9}}],line:58},"4":{loc:{start:{line:62,column:6},end:{line:65,column:9}},type:"if",locations:[{start:{line:62,column:6},end:{line:65,column:9}},{start:{line:62,column:6},end:{line:65,column:9}}],line:62}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"0e76c7bd9433f16f8916329782e2b366fe426227"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_1vjiengpa5.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1vjiengpa5.s[1]++;exports["default"]=void 0;var _jsonwebtoken=(cov_1vjiengpa5.s[2]++,_interopRequireDefault(require("jsonwebtoken")));var _pool=(cov_1vjiengpa5.s[3]++,_interopRequireDefault(require("../models/pool")));function _interopRequireDefault(obj){cov_1vjiengpa5.f[0]++;cov_1vjiengpa5.s[4]++;return(cov_1vjiengpa5.b[1][0]++,obj)&&(cov_1vjiengpa5.b[1][1]++,obj.__esModule)?(cov_1vjiengpa5.b[0][0]++,obj):(cov_1vjiengpa5.b[0][1]++,{"default":obj});}var auth=(cov_1vjiengpa5.s[5]++,{signup:function signup(req,res){cov_1vjiengpa5.f[1]++;var _req$body=(cov_1vjiengpa5.s[6]++,req.body),email=(cov_1vjiengpa5.s[7]++,_req$body.email),first_name=(cov_1vjiengpa5.s[8]++,_req$body.first_name),last_name=(cov_1vjiengpa5.s[9]++,_req$body.last_name),password=(cov_1vjiengpa5.s[10]++,_req$body.password);// check if user is already registered
cov_1vjiengpa5.s[11]++;_pool["default"].query('SELECT * FROM users WHERE email = ($1)',[email]).then(function(result){cov_1vjiengpa5.f[2]++;cov_1vjiengpa5.s[12]++;if(result.rowCount!==0){cov_1vjiengpa5.b[2][0]++;cov_1vjiengpa5.s[13]++;return res.status(409).send({status:"error",error:"user already exists"});}else{cov_1vjiengpa5.b[2][1]++;}});cov_1vjiengpa5.s[14]++;_pool["default"].query("INSERT INTO \"users\" (\"first_name\", \"last_name\", \"email\", \"password\")\n            VALUES ('".concat(first_name,"','").concat(last_name,"', '").concat(email,"', '").concat(password,"') \n            RETURNING *")).then(function(result){cov_1vjiengpa5.f[3]++;var _result$rows$=(cov_1vjiengpa5.s[15]++,result.rows[0]),id=(cov_1vjiengpa5.s[16]++,_result$rows$.id),is_admin=(cov_1vjiengpa5.s[17]++,_result$rows$.is_admin);var token=(cov_1vjiengpa5.s[18]++,_jsonwebtoken["default"].sign({_id:id,_email:result.rows[0].email,_isadmin:is_admin},"hidelater"));cov_1vjiengpa5.s[19]++;res.header('token',token).send({status:"success",data:{token:token,user_id:id,is_admin:is_admin}});});},signin:function signin(req,res){cov_1vjiengpa5.f[4]++;var _req$body2=(cov_1vjiengpa5.s[20]++,req.body),email=(cov_1vjiengpa5.s[21]++,_req$body2.email),password=(cov_1vjiengpa5.s[22]++,_req$body2.password);// query the database
cov_1vjiengpa5.s[23]++;_pool["default"].query('SELECT * FROM users WHERE email = ($1)',[email]).then(function(result){cov_1vjiengpa5.f[5]++;cov_1vjiengpa5.s[24]++;if(result.rowCount!==1){cov_1vjiengpa5.b[3][0]++;cov_1vjiengpa5.s[25]++;return res.status(400).send({status:"error",error:"invalid email or password"});}else{cov_1vjiengpa5.b[3][1]++;}cov_1vjiengpa5.s[26]++;if(password!==result.rows[0].password){cov_1vjiengpa5.b[4][0]++;cov_1vjiengpa5.s[27]++;return res.status(400).send({status:"error",error:"invalid email or password"});}else{cov_1vjiengpa5.b[4][1]++;}var _result$rows$2=(cov_1vjiengpa5.s[28]++,result.rows[0]),id=(cov_1vjiengpa5.s[29]++,_result$rows$2.id),is_admin=(cov_1vjiengpa5.s[30]++,_result$rows$2.is_admin),_email=(cov_1vjiengpa5.s[31]++,_result$rows$2.email);var token=(cov_1vjiengpa5.s[32]++,_jsonwebtoken["default"].sign({_id:id,_email:_email,_isadmin:is_admin},"hidelater"));cov_1vjiengpa5.s[33]++;res.send({status:200,data:{token:token,id:id,is_admin:is_admin}});});}});var _default=(cov_1vjiengpa5.s[34]++,auth);cov_1vjiengpa5.s[35]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXV0aCIsInNpZ251cCIsInJlcSIsInJlcyIsImJvZHkiLCJlbWFpbCIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJwYXNzd29yZCIsInBvb2wiLCJxdWVyeSIsInRoZW4iLCJyZXN1bHQiLCJyb3dDb3VudCIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsInJvd3MiLCJpZCIsImlzX2FkbWluIiwidG9rZW4iLCJqd3QiLCJzaWduIiwiX2lkIiwiX2VtYWlsIiwiX2lzYWRtaW4iLCJoZWFkZXIiLCJkYXRhIiwidXNlcl9pZCIsInNpZ25pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsSUFBTUEsSUFBSSxHQUFHO0FBQ1RDLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFBQSxvQkFHWkQsR0FBRyxDQUFDRSxJQUhRO0FBQUEsUUFFZEMsS0FGYyxhQUVkQSxLQUZjO0FBQUEsUUFFUEMsVUFGTyxhQUVQQSxVQUZPO0FBQUEsUUFFS0MsU0FGTCxhQUVLQSxTQUZMO0FBQUEsUUFFZ0JDLFFBRmhCLGFBRWdCQSxRQUZoQixFQUtoQjs7QUFDQUMscUJBQUtDLEtBQUwsQ0FDRSx3Q0FERixFQUM0QyxDQUFDTCxLQUFELENBRDVDLEVBRUVNLElBRkYsQ0FFTyxVQUFDQyxNQUFELEVBQVc7QUFDaEIsVUFBSUEsTUFBTSxDQUFDQyxRQUFQLEtBQW9CLENBQXhCLEVBQTJCO0FBQ3pCLGVBQU9WLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCRCxVQUFBQSxNQUFNLEVBQUUsT0FEa0I7QUFFMUJFLFVBQUFBLEtBQUssRUFBRTtBQUZtQixTQUFyQixDQUFQO0FBSUQ7QUFDRixLQVREOztBQVlBUCxxQkFBS0MsS0FBTCxnSEFFYUosVUFGYixnQkFFNkJDLFNBRjdCLGlCQUU2Q0YsS0FGN0MsaUJBRXlERyxRQUZ6RCxtQ0FJRUcsSUFKRixDQUlPLFVBQUNDLE1BQUQsRUFBVztBQUFBLDBCQUdaQSxNQUFNLENBQUNLLElBQVAsQ0FBWSxDQUFaLENBSFk7QUFBQSxVQUVkQyxFQUZjLGlCQUVkQSxFQUZjO0FBQUEsVUFFVkMsUUFGVSxpQkFFVkEsUUFGVTs7QUFLaEIsVUFBTUMsS0FBSyxHQUFHQyx5QkFBSUMsSUFBSixDQUFTO0FBQ3JCQyxRQUFBQSxHQUFHLEVBQUVMLEVBRGdCO0FBRXJCTSxRQUFBQSxNQUFNLEVBQUVaLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLENBQVosRUFBZVosS0FGRjtBQUdyQm9CLFFBQUFBLFFBQVEsRUFBRU47QUFIVyxPQUFULEVBSVgsV0FKVyxDQUFkOztBQU1BaEIsTUFBQUEsR0FBRyxDQUFDdUIsTUFBSixDQUFXLE9BQVgsRUFBb0JOLEtBQXBCLEVBQTJCTCxJQUEzQixDQUFnQztBQUM5QkQsUUFBQUEsTUFBTSxFQUFFLFNBRHNCO0FBRTlCYSxRQUFBQSxJQUFJLEVBQUU7QUFDSlAsVUFBQUEsS0FBSyxFQUFMQSxLQURJO0FBQ0dRLFVBQUFBLE9BQU8sRUFBRVYsRUFEWjtBQUNnQkMsVUFBQUEsUUFBUSxFQUFSQTtBQURoQjtBQUZ3QixPQUFoQztBQU1ILEtBckJDO0FBd0JMLEdBM0NRO0FBNENUVSxFQUFBQSxNQUFNLEVBQUUsZ0JBQUMzQixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUFBLHFCQUNVRCxHQUFHLENBQUNFLElBRGQ7QUFBQSxRQUNWQyxLQURVLGNBQ1ZBLEtBRFU7QUFBQSxRQUNIRyxRQURHLGNBQ0hBLFFBREcsRUFFbEI7O0FBQ0FDLHFCQUFLQyxLQUFMLENBQ0Usd0NBREYsRUFDNEMsQ0FBQ0wsS0FBRCxDQUQ1QyxFQUVFTSxJQUZGLENBRU8sVUFBQ0MsTUFBRCxFQUFZO0FBQ2pCLFVBQUlBLE1BQU0sQ0FBQ0MsUUFBUCxLQUFvQixDQUF4QixFQUEyQixPQUFPVixHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRCxRQUFBQSxNQUFNLEVBQUUsT0FBVjtBQUFtQkUsUUFBQUEsS0FBSyxFQUFFO0FBQTFCLE9BQXJCLENBQVA7QUFHM0IsVUFBSVIsUUFBUSxLQUFLSSxNQUFNLENBQUNLLElBQVAsQ0FBWSxDQUFaLEVBQWVULFFBQWhDLEVBQTBDLE9BQU9MLEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVELFFBQUFBLE1BQU0sRUFBRSxPQUFWO0FBQW1CRSxRQUFBQSxLQUFLLEVBQUU7QUFBMUIsT0FBckIsQ0FBUDtBQUp6QiwyQkFRYkosTUFBTSxDQUFDSyxJQUFQLENBQVksQ0FBWixDQVJhO0FBQUEsVUFPZkMsRUFQZSxrQkFPZkEsRUFQZTtBQUFBLFVBT1hDLFFBUFcsa0JBT1hBLFFBUFc7QUFBQSxVQU9NSyxNQVBOLGtCQU9EbkIsS0FQQzs7QUFVakIsVUFBTWUsS0FBSyxHQUFHQyx5QkFBSUMsSUFBSixDQUFTO0FBQ3JCQyxRQUFBQSxHQUFHLEVBQUVMLEVBRGdCO0FBRXJCTSxRQUFBQSxNQUFNLEVBQU5BLE1BRnFCO0FBR3JCQyxRQUFBQSxRQUFRLEVBQUVOO0FBSFcsT0FBVCxFQUlYLFdBSlcsQ0FBZDs7QUFNQWhCLE1BQUFBLEdBQUcsQ0FBQ1ksSUFBSixDQUFTO0FBQ1BELFFBQUFBLE1BQU0sRUFBRSxHQUREO0FBRVBhLFFBQUFBLElBQUksRUFBRTtBQUNKUCxVQUFBQSxLQUFLLEVBQUxBLEtBREk7QUFDR0YsVUFBQUEsRUFBRSxFQUFGQSxFQURIO0FBQ09DLFVBQUFBLFFBQVEsRUFBUkE7QUFEUDtBQUZDLE9BQVQ7QUFNRCxLQXhCRDtBQTBCSDtBQXpFUSxDQUFiO2VBMkVlbkIsSSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGlkbWNhXFxEZXNrdG9wXFxBbmRlbGFcXHdheV9mYXJlclxcc2VydmVyXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHBvb2wgZnJvbSAnLi4vbW9kZWxzL3Bvb2wnXHJcblxyXG5jb25zdCBhdXRoID0ge1xyXG4gICAgc2lnbnVwOiAocmVxLCByZXMpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGVtYWlsLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIHBhc3N3b3JkLFxyXG4gICAgICAgICAgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBcclxuICAgICAgICAgIC8vIGNoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSByZWdpc3RlcmVkXHJcbiAgICAgICAgICBwb29sLnF1ZXJ5KFxyXG4gICAgICAgICAgICAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ICgkMSknLCBbZW1haWxdLFxyXG4gICAgICAgICAgKS50aGVuKChyZXN1bHQpPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnJvd0NvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IFwidXNlciBhbHJlYWR5IGV4aXN0c1wiLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHBvb2wucXVlcnkoXHJcbiAgICAgICAgICAgIGBJTlNFUlQgSU5UTyBcInVzZXJzXCIgKFwiZmlyc3RfbmFtZVwiLCBcImxhc3RfbmFtZVwiLCBcImVtYWlsXCIsIFwicGFzc3dvcmRcIilcclxuICAgICAgICAgICAgVkFMVUVTICgnJHtmaXJzdF9uYW1lfScsJyR7bGFzdF9uYW1lfScsICcke2VtYWlsfScsICcke3Bhc3N3b3JkfScpIFxyXG4gICAgICAgICAgICBSRVRVUk5JTkcgKmAsXHJcbiAgICAgICAgICApLnRoZW4oKHJlc3VsdCk9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICBpZCwgaXNfYWRtaW4sXHJcbiAgICAgICAgICAgIH0gPSByZXN1bHQucm93c1swXTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7XHJcbiAgICAgICAgICAgICAgX2lkOiBpZCxcclxuICAgICAgICAgICAgICBfZW1haWw6IHJlc3VsdC5yb3dzWzBdLmVtYWlsLFxyXG4gICAgICAgICAgICAgIF9pc2FkbWluOiBpc19hZG1pbixcclxuICAgICAgICAgICAgfSwgXCJoaWRlbGF0ZXJcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5oZWFkZXIoJ3Rva2VuJywgdG9rZW4pLnNlbmQoe1xyXG4gICAgICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdG9rZW4sIHVzZXJfaWQ6IGlkLCBpc19hZG1pbixcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgICAgICBcclxuICAgIH0sXHJcbiAgICBzaWduaW46IChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICAgICAgICAvLyBxdWVyeSB0aGUgZGF0YWJhc2VcclxuICAgICAgICBwb29sLnF1ZXJ5KFxyXG4gICAgICAgICAgJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAoJDEpJywgW2VtYWlsXSxcclxuICAgICAgICApLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHJlc3VsdC5yb3dDb3VudCAhPT0gMSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgc3RhdHVzOiBcImVycm9yXCIsIGVycm9yOiBcImludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIiB9KTtcclxuICAgIFxyXG4gICAgICAgXHJcbiAgICAgICAgICBpZiAocGFzc3dvcmQgIT09IHJlc3VsdC5yb3dzWzBdLnBhc3N3b3JkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBzdGF0dXM6IFwiZXJyb3JcIiwgZXJyb3I6IFwiaW52YWxpZCBlbWFpbCBvciBwYXNzd29yZFwiIH0pO1xyXG4gICAgICBcclxuICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgaWQsIGlzX2FkbWluLCBlbWFpbDogX2VtYWlsLFxyXG4gICAgICAgICAgfSA9IHJlc3VsdC5yb3dzWzBdO1xyXG4gICAgICBcclxuICAgICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe1xyXG4gICAgICAgICAgICBfaWQ6IGlkLFxyXG4gICAgICAgICAgICBfZW1haWwsXHJcbiAgICAgICAgICAgIF9pc2FkbWluOiBpc19hZG1pbixcclxuICAgICAgICAgIH0sIFwiaGlkZWxhdGVyXCIpO1xyXG4gICAgICBcclxuICAgICAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICB0b2tlbiwgaWQsIGlzX2FkbWluLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICBcclxuICAgIH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQgYXV0aDsiXX0=